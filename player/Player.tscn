[gd_scene load_steps=32 format=3 uid="uid://dapv32tmbt4nj"]

[ext_resource type="PackedScene" uid="uid://djicriy84rtem" path="res://character/character_base.tscn" id="1_t6k54"]
[ext_resource type="Script" path="res://player/player.gd" id="2_yt7a2"]
[ext_resource type="AudioStream" uid="uid://dao2ksoscougm" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_A.wav" id="3_733wa"]
[ext_resource type="AnimationLibrary" uid="uid://dkfxg6a7ei6xj" path="res://assets/art/Red_Sprite/PlayerAnimations.res" id="3_tau3u"]
[ext_resource type="PackedScene" uid="uid://8iwfrqw1cfik" path="res://player/actions/dash.tscn" id="4_3r6yc"]
[ext_resource type="AudioStream" uid="uid://cosbmpcbdtih7" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_B.wav" id="4_dpnyj"]
[ext_resource type="AudioStream" uid="uid://bbc3jll7nvjfw" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_C.wav" id="5_0u6x3"]
[ext_resource type="AudioStream" uid="uid://ch3vrbaqwf4qs" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_D.wav" id="6_q2w77"]
[ext_resource type="AudioStream" uid="uid://ppnyhqoudai7" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_E.wav" id="7_m34f0"]
[ext_resource type="AudioStream" uid="uid://3ob21jtkaj3y" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_F.wav" id="8_cd0xu"]
[ext_resource type="AudioStream" uid="uid://dm27foos5pvwx" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_G.wav" id="9_a6xal"]
[ext_resource type="AudioStream" uid="uid://bn22pviqaerbr" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_H.wav" id="10_n2w7u"]
[ext_resource type="AudioStream" uid="uid://ce3f4rk32x4bi" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_I.wav" id="11_gkasv"]
[ext_resource type="AudioStream" uid="uid://vs8ssnu2hgu4" path="res://assets/audio/footsteps/Fantasy_Game_Footstep_Stone_Light_J.wav" id="12_jv3vn"]
[ext_resource type="AudioStream" uid="uid://c1k8fjcq6aa83" path="res://assets/audio/attack/Fantasy_Game_Attack_Cloth_Armor_Hit_A.wav" id="13_h4y4f"]
[ext_resource type="AudioStream" uid="uid://bu1016c8u40wj" path="res://assets/audio/attack/Fantasy_Game_Attack_Cloth_Armor_Hit_B.wav" id="14_8i635"]
[ext_resource type="AudioStream" uid="uid://dkp42xwrgacp6" path="res://assets/audio/ambient/Fantasy_World_Loop_Ambience_Crystal_Maze_Full_Swirling_Ancient_Movement_Motion_LFO_Modulation_Cm.wav" id="15_j2762"]
[ext_resource type="Texture2D" uid="uid://dxof852yd2cmw" path="res://assets/art/Red_Sprite/BackSIde COnesecutiveSlash.png" id="15_oxtuy"]
[ext_resource type="AudioStream" uid="uid://v2gjo7fbt75r" path="res://assets/audio/abilities/Fantasy_Game_Item_Collect_Magic_A.wav" id="18_0tbli"]
[ext_resource type="AudioStream" uid="uid://dxfn6qvpay3u5" path="res://assets/audio/attack/Fantasy_Game_Attack_Blade_Draw_1.wav" id="19_kvb2n"]
[ext_resource type="Script" path="res://player/camera.gd" id="19_ux7bf"]
[ext_resource type="PackedScene" uid="uid://c4fhr6pj63qo4" path="res://player/actions/slash_attack.tscn" id="21_0xrws"]
[ext_resource type="PackedScene" uid="uid://bglbr6srh4n72" path="res://player/actions/stab_attack.tscn" id="21_i5qo7"]
[ext_resource type="AudioStream" uid="uid://berdu6xfribhq" path="res://assets/audio/attack/Fantasy_Game_Attack_Skill_Knife_Throw_B.wav" id="22_ww8fo"]
[ext_resource type="FontFile" uid="uid://cnv5trghp6um2" path="res://assets/fonts/OpenDyslexic-Regular.otf" id="26_2gaor"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ny1lx"]
radius = 15.0
height = 32.0

[sub_resource type="FastNoiseLite" id="FastNoiseLite_8qra6"]
noise_type = 3
seed = 4145

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bthml"]
bg_color = Color(0.2, 0.2, 0.2, 0.239216)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rrho8"]
bg_color = Color(0.65098, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jligh"]
bg_color = Color(0.0941176, 0.0941176, 0.0941176, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_17bnb"]
bg_color = Color(0.552941, 0.552941, 0.552941, 1)

[node name="player" instance=ExtResource("1_t6k54")]
z_index = 1
y_sort_enabled = true
floor_stop_on_slope = false
script = ExtResource("2_yt7a2")
turn_speed = 350
footstep_sounds = Array[AudioStream]([ExtResource("3_733wa"), ExtResource("4_dpnyj"), ExtResource("5_0u6x3"), ExtResource("6_q2w77"), ExtResource("7_m34f0"), ExtResource("8_cd0xu"), ExtResource("9_a6xal"), ExtResource("10_n2w7u"), ExtResource("11_gkasv"), ExtResource("12_jv3vn")])
hit_sounds = Array[AudioStream]([ExtResource("13_h4y4f"), ExtResource("14_8i635")])

[node name="Ambient_AudioPlayer" type="AudioStreamPlayer2D" parent="." index="0"]
scale = Vector2(9, 9)
stream = ExtResource("15_j2762")
autoplay = true
max_distance = 20000.0
bus = &"Ambient"

[node name="Character_Hitbox" parent="." index="1"]
position = Vector2(0, 21)
shape = SubResource("CapsuleShape2D_ny1lx")

[node name="Sprite2D" parent="." index="2"]
texture_filter = 1
scale = Vector2(3, 3)
texture = ExtResource("15_oxtuy")
flip_h = true
hframes = 9
vframes = 3
frame = 18

[node name="AnimationPlayer" parent="." index="3"]
root_node = NodePath("../Sprite2D")
libraries = {
"": ExtResource("3_tau3u")
}

[node name="Hit_AudioPlayer" parent="." index="5"]
volume_db = -5.0

[node name="AudioListener2D" type="AudioListener2D" parent="." index="6"]
current = true

[node name="Camera2D" type="Camera2D" parent="." index="7"]
position_smoothing_enabled = true
position_smoothing_speed = 3.0
editor_draw_drag_margin = true
script = ExtResource("19_ux7bf")
noise = SubResource("FastNoiseLite_8qra6")

[node name="GUI" type="CanvasLayer" parent="Camera2D" index="0"]

[node name="Container" type="Control" parent="Camera2D/GUI" index="0"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HealthBar" type="ProgressBar" parent="Camera2D/GUI/Container" index="0"]
layout_mode = 2
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -256.0
offset_top = -63.0
offset_right = 256.0
offset_bottom = -23.0
grow_horizontal = 2
grow_vertical = 0
theme_override_styles/background = SubResource("StyleBoxFlat_bthml")
theme_override_styles/fill = SubResource("StyleBoxFlat_rrho8")
value = 50.0
rounded = true

[node name="Dash" parent="." index="8" instance=ExtResource("4_3r6yc")]
dash_distance = 150
sound_effects = Array[AudioStream]([ExtResource("18_0tbli")])

[node name="Slash" parent="." index="9" instance=ExtResource("21_0xrws")]
attack_damage = 10
cooldown = 0.05
sound_effects = Array[AudioStream]([ExtResource("19_kvb2n")])

[node name="Stab" parent="." index="10" instance=ExtResource("21_i5qo7")]
attack_damage = 10
can_queue = true
cooldown = 0.5
sound_effects = Array[AudioStream]([ExtResource("22_ww8fo")])

[node name="PauseMenu" type="CanvasLayer" parent="." index="11"]
process_mode = 2
visible = false

[node name="Menu" type="ColorRect" parent="PauseMenu" index="0"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.454902, 0.454902, 0.454902, 0.498039)

[node name="Resume" type="Button" parent="PauseMenu/Menu" index="0"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 80.0
offset_top = -210.0
offset_right = 800.0
offset_bottom = -90.0
grow_vertical = 2
theme_override_fonts/font = ExtResource("26_2gaor")
theme_override_font_sizes/font_size = 64
theme_override_styles/normal = SubResource("StyleBoxFlat_jligh")
theme_override_styles/hover = SubResource("StyleBoxFlat_17bnb")
text = "Resume Game"

[node name="Settings" type="Button" parent="PauseMenu/Menu" index="1"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 80.0
offset_top = -60.0
offset_right = 800.0
offset_bottom = 60.0
grow_vertical = 2
theme_override_fonts/font = ExtResource("26_2gaor")
theme_override_font_sizes/font_size = 64
theme_override_styles/normal = SubResource("StyleBoxFlat_jligh")
theme_override_styles/hover = SubResource("StyleBoxFlat_17bnb")
text = "Settings"

[node name="Quit" type="Button" parent="PauseMenu/Menu" index="2"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 80.0
offset_top = 90.0
offset_right = 800.0
offset_bottom = 210.0
grow_vertical = 2
theme_override_fonts/font = ExtResource("26_2gaor")
theme_override_font_sizes/font_size = 64
theme_override_styles/normal = SubResource("StyleBoxFlat_jligh")
theme_override_styles/hover = SubResource("StyleBoxFlat_17bnb")
text = "Quit Game"

[node name="Label" type="Label" parent="PauseMenu/Menu" index="3"]
layout_mode = 1
offset_left = 80.0
offset_top = 80.0
offset_right = 556.0
offset_bottom = 307.0
theme_override_fonts/font = ExtResource("26_2gaor")
theme_override_font_sizes/font_size = 128
text = "Paused"

[connection signal="pressed" from="PauseMenu/Menu/Resume" to="." method="_on_resume_pressed"]
[connection signal="pressed" from="PauseMenu/Menu/Quit" to="." method="_on_quit_pressed"]
